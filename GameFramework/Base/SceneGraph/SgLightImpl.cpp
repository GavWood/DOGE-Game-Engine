////////////////////////////////////////////////////////////////////////////////
/// SgLightDX11.cpp

#include "BaArchive.h"
#include "SgLightImpl.h"
#include "BaFileData.h"

////////////////////////////////////////////////////////////////////////////////
// Constructor

SgLightImpl::SgLightImpl()
{
}

////////////////////////////////////////////////////////////////////////////////
// FixPointers

void SgLightImpl::FixPointers( BtU8* pMemory )
{
	// Set the file data
	m_pFileData = (BaSgLightFileData*) pMemory;
}

////////////////////////////////////////////////////////////////////////////////
// IsCone

BtBool SgLightImpl::IsCone() const
{
	if( m_pFileData->m_type == RsLT_Cone )
	{
		return BtTrue;
	}
	return BtFalse;
}

////////////////////////////////////////////////////////////////////////////////
// IsPoint

BtBool SgLightImpl::IsPoint() const
{
	if( m_pFileData->m_type == RsLT_Point )
	{
		return BtTrue;
	}
	return BtFalse;
}

////////////////////////////////////////////////////////////////////////////////
// IsDirectional

BtBool SgLightImpl::IsDirectional() const
{
	if( m_pFileData->m_type == RsLT_Direction )
	{
		return BtTrue;
	}
	return BtFalse;
}

////////////////////////////////////////////////////////////////////////////////
// pNode

SgNode* SgLightImpl::pNode() const
{
	return m_pNode;
}

////////////////////////////////////////////////////////////////////////////////
// GetColour

RsColour& SgLightImpl::GetColour() const
{
	return m_pFileData->m_colour;
}

////////////////////////////////////////////////////////////////////////////////
// SetColour

void SgLightImpl::SetColour( const RsColour& colour )
{
	m_pFileData->m_colour = colour;
}

////////////////////////////////////////////////////////////////////////////////
// GetEnabled

BtBool SgLightImpl::GetEnabled() const
{
	if( m_pFileData->m_isLit )
	{
		return BtTrue;
	}
	return BtFalse;
}

////////////////////////////////////////////////////////////////////////////////
// GetInnerAngle

BtFloat SgLightImpl::GetInnerAngle() const
{
	return m_pFileData->m_fallOffAngle;
}

////////////////////////////////////////////////////////////////////////////////
// SetEnabled

void SgLightImpl::SetEnabled( BtBool enabled )
{
	m_pFileData->m_isLit = enabled;
}

////////////////////////////////////////////////////////////////////////////////
// SetEnabled

BtFloat SgLightImpl::GetIntensity() const
{
	return m_pFileData->m_intensity;
}

////////////////////////////////////////////////////////////////////////////////
// SetEnabled

void SgLightImpl::SetIntensity( BtFloat intensity )
{
	m_pFileData->m_intensity = intensity;
}
